---
import "../styles/wedding-page.css";

import { Image } from "astro:assets";

import Frame from "../images/Images/Frame.png";
import FirstPhoto from "../images/Images/FirstPhoto.png";
import SecondPhoto from "../images/Images/SecondPhoto.png";
import GradientOval from "../images/Images/GradientOval.png";
import Cloud from "../images/Images/Cloud.png";
import Bela from "../images/Images/Bela.png";
import Habib from "../images/Images/Habib.png";
import OvalFrame from "../images/Images/OvalFrame.png";

import ImageGallery from "../components/ImageGallery.astro";
import RSVPMessageBoard from "../components/RSVPMessageBoard.astro";
---

<section class="scroll-area">
    <div class="content-size-fitter">
        <div class="content-container">
            <Image src={SecondPhoto} class="photo-2 layer l7" alt="loading" />
            <Image src={Frame} class="frame-3 layer l6" alt="loading" />
            <Image src={Cloud} class="cloud-1 layer l5" alt="loading" />
            <Image src={Frame} class="frame-2 layer l4" alt="loading" />
            <div class="surah-text title-text layer l3">
                <p>Lorem Ipsum Dolor Sit Amet</p>
                <p>Lorem Ipsum Dolor Sit Amet</p>
                <p>Lorem Ipsum Dolor Sit Amet</p>
                <p>Lorem Ipsum Dolor Sit Amet</p>
                <p>Lorem Ipsum Dolor Sit Amet</p>
                <p>Lorem Ipsum Dolor Sit Amet</p>
                <p>Lorem Ipsum Dolor Sit Amet</p>
            </div>
            <Image src={OvalFrame} class="oval-frame layer l3" alt="loading" />
            <Image src={FirstPhoto} class="photo-1 layer l2" alt="loading" />
            <Image src={Frame} class="frame-1 layer l2" alt="loading" />
            <Image src={Cloud} class="cloud-1 layer l1" alt="loading" />
            <div class="title-text layer l1">
                <p>We invite you to</p>
                <p>The Wedding of</p>
                <p class="wedding-name">Bela & Habib</p>
                <p>04.04.2026</p>
            </div>
        </div>
    </div>
</section>

<ImageGallery />

<RSVPMessageBoard />

<script type="module" client:load>
    import {
        utils,
        stagger,
        onScroll,
        createTimeline,
        animate,
    } from "https://esm.run/animejs@4.2.2";

    var opacityGone = 0;
    var zGone = 100;
    var durationGone = 200;
    console.log("Anime utils: ", utils);

    utils.set(".layer", {
        z: stagger(-200, {from: 'last', start: 200}),
    });

    utils.set(".cloud-1", {
        y: 100,
    });

    utils.set(".title-text", {
        y: 300,
    });

    utils.set(".l1", {
        z: 0,
    });

    utils.set(".surah-text", {
        opacity: 0,
    });

    createTimeline({
        defaults: {
            ease: "easeInOutSine",
            duration: 500,
        },
        autoplay: onScroll({
            target: ".scroll-area",
            enter: "top top",
            leave: "bottom bottom",
            sync: 0.5,
        }),
    })
    .add(
        ".l1",
        {
            opacity: 0,
            z: '+=200',
            duration: 100
        },
        0
    )
    .label("fadeOut1")
    .add(
        ".l2",
        {
            opacity: 0,
            z: '+=200',
            duration: 100
        },
        "fadeOut1"
    )
    .add(
        [".l3", ".l4", ".l5", ".l6", ".l7", ".l8", ".l9"],
        {
            z: '+=200',
            opacity: 1
        },
        "fadeOut1"
    )
    .label("fadeOut2")
    .add(
        ".l3",
        {
            opacity: 0,
            z: '+=200',
            duration: 100
        },
        "fadeOut2"
    )
    .add(
        [".l4", ".l5", ".l6", ".l7", ".l8", ".l9"],
        {
            z: '+=200'
        },
        "fadeOut2"
    )
    .label("fadeOut3")
    .add(
        ".l4",
        {
            opacity: 0,
            z: '+=200',
            duration: 100
        },
        "fadeOut3"
    )
    .add(
        [".l5", ".l6", ".l7", ".l8", ".l9"],
        {
            z: '+=200'
        },
        "fadeOut3"
    )
    .label("fadeOut4")
    .add(
        ".l5",
        {
            opacity: 0,
            z: '+=200',
            duration: 100
        },
        "fadeOut4"
    )
    .add(
        [".l6", ".l7", ".l8", ".l9"],
        {
            z: '+=200'
        },
        "fadeOut4"
    )
    .label("fadeOut5")
    .add(
        ".l6",
        {
            opacity: 0,
            z: '+=200',
            duration: 100
        },
        "fadeOut5"
    )
    .add(
        [".l7", ".l8", ".l9"],
        {
            z: '+=200'
        },
        "fadeOut5"
    );
</script>
